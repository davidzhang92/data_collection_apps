var __awaiter=this&&this.__awaiter||function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n["throw"](t))}catch(e){i(e)}}function l(t){t.done?r(t.value):o(t.value).then(a,s)}l((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;o=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1];i=a;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(a);break}if(i[2])r.ops.pop();r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s];o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,h,H as Host,g as getElement,c as createEvent}from"./index-81967d12.js";import{i as inheritGlobalTheme}from"./themeable-component-cb76be7c.js";import{g as getLocaleString,a as getLanguage}from"./language-utils-bf701d37.js";import{c as createID}from"./create-id-981107da.js";import{d as isArrowLeftKey,b as isArrowUpKey,a as isArrowRightKey,c as isArrowDownKey}from"./keyboard-utils-88ea1007.js";import"./string-utils-5954f458.js";var duetScrollableCss="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent}:host{position:relative !important}:host .duet-scrollable-items{display:flex}:host .duet-scrollable-items .duet-scrollable-button{position:relative;flex:0 0 auto;flex-basis:40px;padding:10px;cursor:pointer}:host .duet-scrollable-items .duet-scrollable-button:active{transform:scale(0.8)}:host .duet-scrollable-items .duet-scrollable-button--left{left:-12px}:host .duet-scrollable-items .duet-scrollable-button--right{right:-12px}:host .duet-scrollable-items .duet-scrollable-button--occluded{display:none}:host .duet-scrollable-items .duet-scrollable-list{display:flex;flex-wrap:nowrap;gap:20px;padding-top:2px;overflow-x:auto;overflow-y:hidden;white-space:nowrap;scroll-snap-type:x mandatory;scroll-behavior:smooth;scroll-margin:0 20px;-ms-overflow-style:-ms-autohiding-scrollbar;-webkit-overflow-scrolling:touch;}:host .duet-scrollable-items .duet-scrollable-list::-webkit-scrollbar{display:none}::slotted(*){scroll-snap-align:center;margin-left:0;-webkit-transition:-webkit-transform 0.2s ease-in-out;transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out}";var DuetScrollable=function(){function t(t){var e=this;registerInstance(this,t);this.currentIndex=0;this.tabListElement=undefined;this.tabListClass="duet-scrollable-list";this.tablistAtStart=true;this.isTabContentSmallerThanWrapper=false;this.tablistAtEnd=false;this.childrenData={};this.resizeObserver=new ResizeObserver((function(t){var r,n,o,i;if((t===null||t===void 0?void 0:t.length)===1){var a=(n=(r=t[0])===null||r===void 0?void 0:r.target)===null||n===void 0?void 0:n.getBoundingClientRect().width;var s=(i=(o=t[0])===null||o===void 0?void 0:o.target)===null||i===void 0?void 0:i.scrollWidth;e.isTabContentSmallerThanWrapper=s>a+5}}));this.theme="";this.identifier="";this.selected=0}t.prototype.watchPropHandler=function(t){this.scrollToTab(t,"center")};t.prototype.componentWillLoad=function(){inheritGlobalTheme(this);var t=this.host.children;this.childrenData={hasChildren:t&&t.length>0,numberOfChildren:t&&t.length}};t.prototype.componentDidLoad=function(){this.resizeObserver.observe(this.tabListElement)};t.prototype.disconnectedCallback=function(){this.resizeObserver.disconnect()};t.prototype.getLastVisibleElement=function(){var t=this.tabListElement.clientWidth;var e=Array.from(this.host.querySelectorAll("button")).findIndex((function(e){return e.getBoundingClientRect().x>t}));return e};t.prototype.getFirstVisibleElement=function(){var t=this.host.querySelectorAll("button");var e=Array.from(t).map((function(t){return t.getBoundingClientRect().x-t.getBoundingClientRect().width}));var r=e.findIndex((function(t){return t>0}));return r};t.prototype.updateScrollButtons=function(t){if(t===void 0){t=this.tabListElement}if(t.scrollLeft<=0){this.tablistAtStart=true}else if(t.scrollLeft>0){this.tablistAtStart=false}if(t.clientWidth+t.scrollLeft+10>=t.scrollWidth){this.tablistAtEnd=true}else if(t.clientWidth+t.scrollLeft+10<t.scrollWidth){this.tablistAtEnd=false}};t.prototype.scrollToTab=function(t,e){var r=this;if(t===void 0){t=this.currentIndex}if(!this.childrenData.hasChildren){return}if(t+1>=this.childrenData.numberOfChildren){t=this.childrenData.numberOfChildren-1}if(t<0){t=0}var n=this.host.querySelectorAll("button");var o=n[0].getBoundingClientRect().x;var i=5;var a=function(){if(n[0].getBoundingClientRect().x===o){i--;if(i!==0){window.requestAnimationFrame(a);return}r.updateScrollButtons()}else{window.requestAnimationFrame(a);o=n[0].getBoundingClientRect().x}};n[t].scrollIntoView({behavior:"smooth",inline:e});window.requestAnimationFrame(a)};t.prototype.scrollLeft=function(){this.tablistAtEnd=false;var t=this.getFirstVisibleElement()-1;this.scrollToTab(t,"center")};t.prototype.scrollRight=function(){this.tablistAtStart=false;var t=this.getLastVisibleElement()+1;this.scrollToTab(t,"center")};t.prototype.render=function(){var t=this;return h(Host,{class:{"duet-theme-turva":this.theme==="turva","duet-theme-default":this.theme==="default"}},h("div",{class:"duet-scrollable-items"},h("button",{part:"".concat(this.identifier,"-button-left"),"aria-hidden":"true",class:{"duet-scrollable-button":true,"duet-scrollable-button--left":true,"duet-scrollable-button--occluded":!this.isTabContentSmallerThanWrapper},onClick:function(){return t.scrollLeft()},disabled:this.tablistAtStart,tabindex:"-1"},h("duet-icon",{name:"action-arrow-left-small",size:"small",margin:"none"})),h("div",{class:this.tabListClass,onScroll:function(){return t.updateScrollButtons()},ref:function(e){return t.tabListElement=e}},h("slot",null)),h("button",{part:"".concat(this.identifier,"-button-right"),"aria-hidden":"true",class:{"duet-scrollable-button":true,"duet-scrollable-button--right":true,"duet-scrollable-button--occluded":!this.isTabContentSmallerThanWrapper},onClick:function(){return t.scrollRight()},disabled:this.tablistAtEnd,tabindex:"-1"},h("duet-icon",{name:"action-arrow-right-small",size:"small",margin:"none"}))))};Object.defineProperty(t.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{selected:["watchPropHandler"]}},enumerable:false,configurable:true});return t}();DuetScrollable.style=duetScrollableCss;var duetTabCss=".sc-duet-tab-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}.duet-tab.sc-duet-tab{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:none;width:100%}.duet-tab.selected.sc-duet-tab{display:block}";var DuetTab=function(){function t(t){registerInstance(this,t);this.accessibleDescriptionDefault=null;this.accessibleDescription=this.accessibleDescriptionDefault?getLocaleString(this.accessibleDescriptionDefault):null}t.prototype.render=function(){{return h("div",{role:"tabpanel",class:{"duet-tab":true,selected:this.selected},"aria-description":this.accessibleDescription},h("slot",null))}};return t}();DuetTab.style=duetTabCss;var duetTabGroupCss='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent;display:block;width:100%}.duet-tab-group-tabs{margin-bottom:28px !important;display:block;width:100%;max-width:100%;padding-top:2px;list-style:none}.duet-tab-group-tabs.duet-m-0{margin:0 !important}.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden{display:none}@media (min-width: 36em){.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden{display:block}}.duet-tab-variation-plain .duet-tab-group-tabs{border-bottom:1px solid #e1e3e6}.duet-theme-turva.duet-tab-variation-plain .duet-tab-group-tabs{border-bottom-color:#e4e4e6}@media (min-width: 36em){duet-select{display:none !important}}.duet-tab-button{-webkit-user-select:none;user-select:none;position:relative;z-index:100;display:block;width:100%;padding:20px;margin-top:-2px;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:600;line-height:1.1;color:#00294d;text-align:left;text-decoration:none;cursor:pointer;background:white;border:2px solid #e1e3e6;border-radius:0;transition:150ms ease}.duet-tab-button.duet-p-0{padding:0 !important}.duet-tab-button.duet-m-0{margin:0 !important}.duet-theme-turva .duet-tab-button{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:#171c3a;border-color:#e4e4e6}.duet-tab-button.duet-p-0{padding:0 !important}@media (min-width: 36em){.duet-tab-button{display:inline-block;width:auto;margin-left:-2px;border-right:2px solid #e1e3e6;border-radius:0}}.duet-tab-button:hover{z-index:200;border-color:#909599}.duet-theme-turva .duet-tab-button:hover{border-color:#747475}.duet-tab-button:active{opacity:0.75;transition:none}.duet-tab-button.selected{z-index:201;color:white;background:#00294d;border-color:#00294d;outline:0;box-shadow:none !important}.duet-theme-turva .duet-tab-button.selected{color:white;background-color:#171c3a;border-color:#171c3a}.duet-tab-button:focus{z-index:200;outline:0}:host(.user-is-tabbing) .duet-tab-button:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3 !important}:host(.user-is-tabbing) .duet-theme-turva .duet-tab-button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a !important}.duet-tab-button:first-child{border-top-left-radius:4px;border-top-right-radius:4px}@media (min-width: 36em){.duet-tab-button:first-child{border-top-right-radius:0;border-bottom-left-radius:4px}}.duet-tab-button:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (min-width: 36em){.duet-tab-button:last-child{border-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}}.duet-tab-variation-plain .duet-tab-button{display:inline-block;width:auto;padding-right:0;padding-left:0;border:0;border-radius:0;transition:none}.duet-tab-variation-plain .duet-tab-button+.duet-tab-button{margin-left:36px}.duet-tab-variation-plain .duet-tab-button.selected{color:#0077b3;background:white;border-bottom:3px solid #0077b3}.duet-theme-turva.duet-tab-variation-plain .duet-tab-button.selected{color:#c60c30;border-bottom-color:#c60c30}.duet-tab-group-content{position:relative;width:100%;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:#00294d;text-align:left}.duet-theme-turva .duet-tab-group-content{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:#171c3a}';var DuetTabGroup=function(){function t(t){var e=this;registerInstance(this,t);this.duetChange=createEvent(this,"duetChange",3);this.duetTabChange=createEvent(this,"duetTabChange",7);this.id=createID("DuetTabGroup");this.tabs=[];this.selected=0;this.theme="";this.scrolls=false;this.collapses=true;this.accessibleLabel=undefined;this.variation="default";this.language=getLanguage();this.labelDefaults={fi:"Valitse",en:"Choose",sv:"Välj"};this.label=getLocaleString(this.labelDefaults,this.language);this.labelHidden=true;this.identifier=this.id;this.margin="auto";this.padding="auto";this.handleKeyDown=function(t){var e;if(isArrowLeftKey(t)||isArrowUpKey(t)){e=t.target.previousElementSibling}else if(isArrowRightKey(t)||isArrowDownKey(t)){e=t.target.nextElementSibling}if(e){t.preventDefault();e.click();e.focus()}};this.renderTab=function(){var t=e.tabs.map((function(t,r){return h("button",{role:"tab",id:e.getButtonId(r),"aria-controls":e.getTabId(r),"aria-selected":t.selected?"true":"false","aria-description":e.getAccessibleDescription(r),tabindex:r===0?"0":"-1",part:"".concat(e.identifier,"-button ").concat(t.selected?"".concat(e.identifier,"-button--selected"):""),type:"button",class:{"duet-p-0":e.padding==="none","duet-tab-button":true,selected:t.selected},onClick:function(){return e.openTab(r)},onKeyDown:function(t){return e.handleKeyDown(t)}},t.label)}));if(e.scrolls){return h("duet-scrollable",{selected:e.selected,identifier:e.identifier},t)}return t}}t.prototype.connectedCallback=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){switch(e.label){case 0:if(typeof MutationObserver!=="undefined"){this.mutationO=new MutationObserver((function(){t.updateTabs()}));this.mutationO.observe(this.element,{attributes:true,attributeFilter:["label"],childList:true,characterData:true,subtree:true})}return[4,this.updateTabs()];case 1:e.sent();return[2]}}))}))};t.prototype.disconnectedCallback=function(){if(this.mutationO){this.mutationO.disconnect();this.mutationO=undefined}};t.prototype.componentWillLoad=function(){inheritGlobalTheme(this)};t.prototype.openTab=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){if(t>=this.tabs.length){throw new Error("[duet-tabs] Index ".concat(t," is out of bounds of tabs length"))}this.selected=t;this.tabs.forEach((function(e,r){e.selected=r===t}));e={value:t,component:"duet-tab-group"};this.duetChange.emit(e);this.duetTabChange.emit(e);return[2]}))}))};t.prototype.refresh=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){console.log("[duet-tabs] Refresh method is deprecated and will be removed in the future version.");return[2]}))}))};t.prototype.getTabs=function(){var t=this;var e=Array.from(this.element.querySelectorAll("duet-tab"));var r=e.filter((function(e){return e.closest("duet-tab-group")===t.element}));if(r.length===0){throw new Error("[duet-tabs] Must have at least one tab")}return r};t.prototype.getButtonId=function(t){return"".concat(this.id,"-button-").concat(t)};t.prototype.getTabId=function(t){return"".concat(this.id,"-tab-").concat(t)};t.prototype.getAccessibleDescription=function(t){var e=this.tabs[t].getAttribute("accessible-description")||null;return e};t.prototype.updateTabs=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){this.tabs=this.getTabs();this.tabs.forEach((function(e,r){e.id=t.getTabId(r);e.setAttribute("aria-labelledby",t.getButtonId(r));if(e.selected){t.selected=r}}));return[2]}))}))};t.prototype.render=function(){var t;var e=this;return h("div",{class:(t={"duet-tab-group":true,"duet-theme-turva":this.theme==="turva"},t["duet-tab-variation-".concat(this.variation)]=true,t["duet-tab-group-scrolls"]=this.scrolls,t["duet-tab-group-collapses"]=this.collapses,t),"aria-label":this.accessibleLabel},this.tabs.length>3&&this.collapses&&h("duet-select",{value:this.selected.toString(),expand:true,label:this.label,labelHidden:this.labelHidden,theme:this.theme,onDuetChange:function(t){return e.openTab(Number(t.detail.value))},items:this.tabs.map((function(t,e){return{label:t.label,value:e.toString()}}))}),h("div",{role:"tablist",class:{"duet-m-0":this.margin==="none","duet-tab-group-tabs":true,"duet-tab-group-hidden":this.tabs.length>3,"duet-tab-group-collapses":this.collapses}},this.renderTab()),h("div",{role:"tabpanel",tabindex:"0",class:{"duet-tab-group-content":true,"duet-m-0":this.margin==="none"}},h("slot",null)))};Object.defineProperty(t.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});return t}();DuetTabGroup.style=duetTabGroupCss;export{DuetScrollable as duet_scrollable,DuetTab as duet_tab,DuetTabGroup as duet_tab_group};