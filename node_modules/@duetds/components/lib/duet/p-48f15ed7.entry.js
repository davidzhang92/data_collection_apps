/*!
 * Built with Duet Design System
 */
import{r as t,h as e,H as o,g as i,c as a}from"./p-dc6fd9c6.js";import{i as s}from"./p-4ebf1618.js";import{g as r,a as n}from"./p-ede854e1.js";import{c as l}from"./p-c1325e35.js";import{d,b,a as u,c as h}from"./p-54f35a79.js";import"./p-5a9d75e1.js";const c=class{constructor(e){t(this,e),this.currentIndex=0,this.tabListElement=void 0,this.tabListClass="duet-scrollable-list",this.tablistAtStart=!0,this.isTabContentSmallerThanWrapper=!1,this.tablistAtEnd=!1,this.childrenData={},this.resizeObserver=new ResizeObserver((t=>{var e,o,i,a;if(1===(null==t?void 0:t.length)){const s=null===(o=null===(e=t[0])||void 0===e?void 0:e.target)||void 0===o?void 0:o.getBoundingClientRect().width,r=null===(a=null===(i=t[0])||void 0===i?void 0:i.target)||void 0===a?void 0:a.scrollWidth;this.isTabContentSmallerThanWrapper=r>s+5}})),this.theme="",this.identifier="",this.selected=0}watchPropHandler(t){this.scrollToTab(t,"center")}componentWillLoad(){s(this);const t=this.host.children;this.childrenData={hasChildren:t&&t.length>0,numberOfChildren:t&&t.length}}componentDidLoad(){this.resizeObserver.observe(this.tabListElement)}disconnectedCallback(){this.resizeObserver.disconnect()}getLastVisibleElement(){const t=this.tabListElement.clientWidth;return Array.from(this.host.querySelectorAll("button")).findIndex((e=>e.getBoundingClientRect().x>t))}getFirstVisibleElement(){const t=this.host.querySelectorAll("button");return Array.from(t).map((t=>t.getBoundingClientRect().x-t.getBoundingClientRect().width)).findIndex((t=>t>0))}updateScrollButtons(t=this.tabListElement){t.scrollLeft<=0?this.tablistAtStart=!0:t.scrollLeft>0&&(this.tablistAtStart=!1),t.clientWidth+t.scrollLeft+10>=t.scrollWidth?this.tablistAtEnd=!0:t.clientWidth+t.scrollLeft+10<t.scrollWidth&&(this.tablistAtEnd=!1)}scrollToTab(t=this.currentIndex,e){if(!this.childrenData.hasChildren)return;t+1>=this.childrenData.numberOfChildren&&(t=this.childrenData.numberOfChildren-1),t<0&&(t=0);const o=this.host.querySelectorAll("button");let i=o[0].getBoundingClientRect().x,a=5;const s=()=>{if(o[0].getBoundingClientRect().x===i){if(a--,0!==a)return void window.requestAnimationFrame(s);this.updateScrollButtons()}else window.requestAnimationFrame(s),i=o[0].getBoundingClientRect().x};o[t].scrollIntoView({behavior:"smooth",inline:e}),window.requestAnimationFrame(s)}scrollLeft(){this.tablistAtEnd=!1;const t=this.getFirstVisibleElement()-1;this.scrollToTab(t,"center")}scrollRight(){this.tablistAtStart=!1;const t=this.getLastVisibleElement()+1;this.scrollToTab(t,"center")}render(){return e(o,{class:{"duet-theme-turva":"turva"===this.theme,"duet-theme-default":"default"===this.theme}},e("div",{class:"duet-scrollable-items"},e("button",{part:`${this.identifier}-button-left`,"aria-hidden":"true",class:{"duet-scrollable-button":!0,"duet-scrollable-button--left":!0,"duet-scrollable-button--occluded":!this.isTabContentSmallerThanWrapper},onClick:()=>this.scrollLeft(),disabled:this.tablistAtStart,tabindex:"-1"},e("duet-icon",{name:"action-arrow-left-small",size:"small",margin:"none"})),e("div",{class:this.tabListClass,onScroll:()=>this.updateScrollButtons(),ref:t=>this.tabListElement=t},e("slot",null)),e("button",{part:`${this.identifier}-button-right`,"aria-hidden":"true",class:{"duet-scrollable-button":!0,"duet-scrollable-button--right":!0,"duet-scrollable-button--occluded":!this.isTabContentSmallerThanWrapper},onClick:()=>this.scrollRight(),disabled:this.tablistAtEnd,tabindex:"-1"},e("duet-icon",{name:"action-arrow-right-small",size:"small",margin:"none"}))))}get host(){return i(this)}static get watchers(){return{selected:["watchPropHandler"]}}};c.style="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent}:host{position:relative !important}:host .duet-scrollable-items{display:flex}:host .duet-scrollable-items .duet-scrollable-button{position:relative;flex:0 0 auto;flex-basis:40px;padding:10px;cursor:pointer}:host .duet-scrollable-items .duet-scrollable-button:active{transform:scale(0.8)}:host .duet-scrollable-items .duet-scrollable-button--left{left:-12px}:host .duet-scrollable-items .duet-scrollable-button--right{right:-12px}:host .duet-scrollable-items .duet-scrollable-button--occluded{display:none}:host .duet-scrollable-items .duet-scrollable-list{display:flex;flex-wrap:nowrap;gap:20px;padding-top:2px;overflow-x:auto;overflow-y:hidden;white-space:nowrap;scroll-snap-type:x mandatory;scroll-behavior:smooth;scroll-margin:0 20px;-ms-overflow-style:-ms-autohiding-scrollbar;-webkit-overflow-scrolling:touch;}:host .duet-scrollable-items .duet-scrollable-list::-webkit-scrollbar{display:none}::slotted(*){scroll-snap-align:center;margin-left:0;-webkit-transition:-webkit-transform 0.2s ease-in-out;transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out}";const p=class{constructor(e){t(this,e),this.accessibleDescriptionDefault=null,this.accessibleDescription=this.accessibleDescriptionDefault?r(this.accessibleDescriptionDefault):null}render(){return e("div",{role:"tabpanel",class:{"duet-tab":!0,selected:this.selected},"aria-description":this.accessibleDescription},e("slot",null))}};p.style=".sc-duet-tab-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}.duet-tab.sc-duet-tab{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:none;width:100%}.duet-tab.selected.sc-duet-tab{display:block}";const m=class{constructor(o){t(this,o),this.duetChange=a(this,"duetChange",3),this.duetTabChange=a(this,"duetTabChange",7),this.id=l("DuetTabGroup"),this.tabs=[],this.selected=0,this.theme="",this.scrolls=!1,this.collapses=!0,this.accessibleLabel=void 0,this.variation="default",this.language=n(),this.labelDefaults={fi:"Valitse",en:"Choose",sv:"VÃ¤lj"},this.label=r(this.labelDefaults,this.language),this.labelHidden=!0,this.identifier=this.id,this.margin="auto",this.padding="auto",this.handleKeyDown=t=>{let e;d(t)||b(t)?e=t.target.previousElementSibling:(u(t)||h(t))&&(e=t.target.nextElementSibling),e&&(t.preventDefault(),e.click(),e.focus())},this.renderTab=()=>{const t=this.tabs.map(((t,o)=>e("button",{role:"tab",id:this.getButtonId(o),"aria-controls":this.getTabId(o),"aria-selected":t.selected?"true":"false","aria-description":this.getAccessibleDescription(o),tabindex:0===o?"0":"-1",part:`${this.identifier}-button ${t.selected?`${this.identifier}-button--selected`:""}`,type:"button",class:{"duet-p-0":"none"===this.padding,"duet-tab-button":!0,selected:t.selected},onClick:()=>this.openTab(o),onKeyDown:t=>this.handleKeyDown(t)},t.label)));return this.scrolls?e("duet-scrollable",{selected:this.selected,identifier:this.identifier},t):t}}async connectedCallback(){"undefined"!=typeof MutationObserver&&(this.mutationO=new MutationObserver((()=>{this.updateTabs()})),this.mutationO.observe(this.element,{attributes:!0,attributeFilter:["label"],childList:!0,characterData:!0,subtree:!0})),await this.updateTabs()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0)}componentWillLoad(){s(this)}async openTab(t){if(t>=this.tabs.length)throw new Error(`[duet-tabs] Index ${t} is out of bounds of tabs length`);this.selected=t,this.tabs.forEach(((e,o)=>{e.selected=o===t}));const e={value:t,component:"duet-tab-group"};this.duetChange.emit(e),this.duetTabChange.emit(e)}async refresh(){console.log("[duet-tabs] Refresh method is deprecated and will be removed in the future version.")}getTabs(){const t=Array.from(this.element.querySelectorAll("duet-tab")).filter((t=>t.closest("duet-tab-group")===this.element));if(0===t.length)throw new Error("[duet-tabs] Must have at least one tab");return t}getButtonId(t){return`${this.id}-button-${t}`}getTabId(t){return`${this.id}-tab-${t}`}getAccessibleDescription(t){return this.tabs[t].getAttribute("accessible-description")||null}async updateTabs(){this.tabs=this.getTabs(),this.tabs.forEach(((t,e)=>{t.id=this.getTabId(e),t.setAttribute("aria-labelledby",this.getButtonId(e)),t.selected&&(this.selected=e)}))}render(){return e("div",{class:{"duet-tab-group":!0,"duet-theme-turva":"turva"===this.theme,[`duet-tab-variation-${this.variation}`]:!0,"duet-tab-group-scrolls":this.scrolls,"duet-tab-group-collapses":this.collapses},"aria-label":this.accessibleLabel},this.tabs.length>3&&this.collapses&&e("duet-select",{value:this.selected.toString(),expand:!0,label:this.label,labelHidden:this.labelHidden,theme:this.theme,onDuetChange:t=>this.openTab(Number(t.detail.value)),items:this.tabs.map(((t,e)=>({label:t.label,value:e.toString()})))}),e("div",{role:"tablist",class:{"duet-m-0":"none"===this.margin,"duet-tab-group-tabs":!0,"duet-tab-group-hidden":this.tabs.length>3,"duet-tab-group-collapses":this.collapses}},this.renderTab()),e("div",{role:"tabpanel",tabindex:"0",class:{"duet-tab-group-content":!0,"duet-m-0":"none"===this.margin}},e("slot",null)))}get element(){return i(this)}};m.style='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent;display:block;width:100%}.duet-tab-group-tabs{margin-bottom:28px !important;display:block;width:100%;max-width:100%;padding-top:2px;list-style:none}.duet-tab-group-tabs.duet-m-0{margin:0 !important}.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden{display:none}@media (min-width: 36em){.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden{display:block}}.duet-tab-variation-plain .duet-tab-group-tabs{border-bottom:1px solid #e1e3e6}.duet-theme-turva.duet-tab-variation-plain .duet-tab-group-tabs{border-bottom-color:#e4e4e6}@media (min-width: 36em){duet-select{display:none !important}}.duet-tab-button{-webkit-user-select:none;user-select:none;position:relative;z-index:100;display:block;width:100%;padding:20px;margin-top:-2px;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:600;line-height:1.1;color:#00294d;text-align:left;text-decoration:none;cursor:pointer;background:white;border:2px solid #e1e3e6;border-radius:0;transition:150ms ease}.duet-tab-button.duet-p-0{padding:0 !important}.duet-tab-button.duet-m-0{margin:0 !important}.duet-theme-turva .duet-tab-button{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:#171c3a;border-color:#e4e4e6}.duet-tab-button.duet-p-0{padding:0 !important}@media (min-width: 36em){.duet-tab-button{display:inline-block;width:auto;margin-left:-2px;border-right:2px solid #e1e3e6;border-radius:0}}.duet-tab-button:hover{z-index:200;border-color:#909599}.duet-theme-turva .duet-tab-button:hover{border-color:#747475}.duet-tab-button:active{opacity:0.75;transition:none}.duet-tab-button.selected{z-index:201;color:white;background:#00294d;border-color:#00294d;outline:0;box-shadow:none !important}.duet-theme-turva .duet-tab-button.selected{color:white;background-color:#171c3a;border-color:#171c3a}.duet-tab-button:focus{z-index:200;outline:0}:host(.user-is-tabbing) .duet-tab-button:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3 !important}:host(.user-is-tabbing) .duet-theme-turva .duet-tab-button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a !important}.duet-tab-button:first-child{border-top-left-radius:4px;border-top-right-radius:4px}@media (min-width: 36em){.duet-tab-button:first-child{border-top-right-radius:0;border-bottom-left-radius:4px}}.duet-tab-button:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (min-width: 36em){.duet-tab-button:last-child{border-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}}.duet-tab-variation-plain .duet-tab-button{display:inline-block;width:auto;padding-right:0;padding-left:0;border:0;border-radius:0;transition:none}.duet-tab-variation-plain .duet-tab-button+.duet-tab-button{margin-left:36px}.duet-tab-variation-plain .duet-tab-button.selected{color:#0077b3;background:white;border-bottom:3px solid #0077b3}.duet-theme-turva.duet-tab-variation-plain .duet-tab-button.selected{color:#c60c30;border-bottom-color:#c60c30}.duet-tab-group-content{position:relative;width:100%;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:#00294d;text-align:left}.duet-theme-turva .duet-tab-group-content{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:#171c3a}';export{c as duet_scrollable,p as duet_tab,m as duet_tab_group}